@model FILMHUB.ViewModel.HomeViewModel

@{
    ViewData["Title"] = "Home";
}

<div class="fh-home">

    <section class="fh-banner">
        @{
            <img class="fh-banner-img lazyload" src="@($"https://image.tmdb.org/t/p/w1280{Model.BannerMovie.BackdropPath}")" alt="@Model.BannerMovie.Title" />

            <div class="fh-banner-content">
                <h1 class="fh-banner-title">@Model.BannerMovie.Title</h1>
                <p class="fh-banner-overview">@Model.BannerMovie.Overview</p>
                <a class="fh-banner-btn" asp-controller="Home" asp-action="MovieDetails" asp-route-id="@Model.BannerMovie.Id">
                    <span class="material-symbols-outlined">info</span>
                    Mais informações
                </a>
            </div>
        }
    </section>

    <section class="fh-section fh-popular">
        <h2 class="fh-section-title">Populares da semana</h2>
        <div class="fh-carousel-wrapper">
            <button class="fh-carousel-btn left" onclick="scrollCarousel('fhPopularCarousel', -900)">‹</button>
            <div class="fh-carousel" id="fhPopularCarousel">
                @foreach (var movie in Model.TrendingMovies)
                {
                    <div class="fh-movie-card">
                        <div class="fh-movie-image">
                            <a asp-controller="Home" asp-action="MovieDetails" asp-route-id="@movie.Id">
                                <img class="lazyload" loading="lazy" src="@($"https://image.tmdb.org/t/p/w300{movie.PosterPath}")" alt="@movie.Title" />
                            </a>
                        </div>
                    </div>
                }
            </div>
            <button class="fh-carousel-btn right" onclick="scrollCarousel('fhPopularCarousel', 900)">›</button>
        </div>
    </section>

    <section class="fh-section fh-theaters">
        <h2 class="fh-section-title">Nos cinemas</h2>
        <div class="fh-carousel-wrapper">
            <button class="fh-carousel-btn left" onclick="scrollCarousel('fhTheatersCarousel', -900)">‹</button>
            <div class="fh-carousel" id="fhTheatersCarousel">
                @foreach (var movie in Model.MoviesInTheaters)
                {
                    <div class="fh-movie-card">
                        <div class="fh-movie-image">
                            <a asp-controller="Home" asp-action="MovieDetails" asp-route-id="@movie.Id">
                                <img class="lazyload" loading="lazy" src="@($"https://image.tmdb.org/t/p/w300{movie.PosterPath}")" alt="@movie.Title" />
                            </a>
                        </div>
                    </div>
                }
            </div>
            <button class="fh-carousel-btn right" onclick="scrollCarousel('fhTheatersCarousel', 900)">›</button>
        </div>
    </section>

    <section class="fh-section fh-toprated">
        <h2 class="fh-section-title">Os favoritos do público</h2>
        <div class="fh-carousel-wrapper">
            <button class="fh-carousel-btn left" onclick="scrollCarousel('fhTopRatedCarousel', -900)">‹</button>
            <div class="fh-carousel" id="fhTopRatedCarousel">
                @foreach (var movie in Model.TopRatedMovies)
                {
                    <div class="fh-movie-card">
                        <div class="fh-movie-image">
                            <a asp-controller="Home" asp-action="MovieDetails" asp-route-id="@movie.Id">
                                <img class="lazyload" loading="lazy" src="@($"https://image.tmdb.org/t/p/w300{movie.PosterPath}")" alt="@movie.Title" />
                            </a>
                        </div>
                    </div>
                }
            </div>
            <button class="fh-carousel-btn right" onclick="scrollCarousel('fhTopRatedCarousel', 900)">›</button>
        </div>
    </section>

</div>

<script>
    function scrollCarousel(carouselId, value) {
        document.getElementById(carouselId).scrollBy({ left: value, behavior: "smooth" });
    }
</script>
